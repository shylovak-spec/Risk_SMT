<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Журнал оцінки ризиків</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
/* --- ГЛОБАЛЬНІ СТИЛІ --- */
* { margin:0; padding:0; box-sizing:border-box; font-family:Roboto, sans-serif; }
/* ОСНОВНИЙ ФОН: Білий, ОСНОВНИЙ ТЕКСТ: Чорний */
body { background:#fff; color:#000; } 
section { width:100%; min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:20px; }
button { cursor:pointer; border:none; padding:14px 26px; font-size:20px; border-radius:10px; }

/* --- ТИТУЛЬНА СТОРІНКА --- */
#title-screen h1 { font-size:32px; text-align:center; margin-bottom:30px; } 
#start-btn { background:#000; color:#fff; } /* Чорна кнопка на білому фоні */

/* --- КАРТКИ --- */
/* ЕКРАН КАРТОК: Фон білий, текст (заголовок) чорний */
#cards-screen { background:#fff; color:#000; display:none; } 
.cards-grid { width:100%; max-width:500px; display:grid; grid-template-columns:1fr; gap:20px; }
.card { 
    width:100%; 
    height:180px; 
    perspective:1000px; 
    cursor:pointer; 
}
.card-inner { 
    width:100%; 
    height:100%; 
    position:relative; 
    transition:transform 0.6s; 
    transform-style:preserve-3d; 
    /* Грань: Чорна для контрасту з білим екраном */
    border: 3px solid #000; 
    border-radius: 17px; 
}
.card.flipped .card-inner { transform:rotateY(180deg); }

.card-face {
    position:absolute;
    width:100%;
    height:100%;
    backface-visibility:hidden;
    border-radius:14px;
    padding:15px;
    display:flex;
    flex-direction:column;
    justify-content:center; /* Вертикальне центрування */
    align-items:center; /* Горизонтальне центрування вмісту */
    text-align:center; /* Центрування самого тексту */
    /* ОБЛИЧЧЯ КАРТКИ: Чорний фон, Білий текст */
    background:#000;
    color:#fff;
    border:3px solid;
    font-size:16px;
    line-height:1.3;
    hyphens:auto;
}
.card-front { border-color:red; } /* Червона рамка спереду */
.card-back { border-color:lime; transform:rotateY(180deg); } /* Зелена рамка ззаду */

#play-btn { display:none; margin-top:30px; background:#000; color:#fff; border:2px solid #000; }
</style>
</head>
<body>

<section id="title-screen">
    <h1>Журнал оцінки ризиків для дільниці SMT</h1>
    <button id="start-btn">Старт</button>
</section>

<section id="cards-screen">
    <h2 style="margin-bottom:20px;">Оцініть всі ризики</h2>
    <div class="cards-grid" id="cards-container"></div>
        <a href="pingpong.html"><button id="play-btn">Пограєм?</button></a>
</section>

<script>
const title = document.getElementById('title-screen');
const cards = document.getElementById('cards-screen');
const startBtn = document.getElementById('start-btn');
const playBtn = document.getElementById('play-btn');

// Перехід від титульної до карток
startBtn.onclick = () => {
    title.style.display = 'none';
    cards.style.display = 'flex';
};

// Дані карток
const cardData = [
    { front:"Випадковий спонтанний запуск рухомих частин обладнання під час налаштування роботи чи ТО, що може спричинити затискання кінцівок", back:"Регулярні автономні та технічні обслуговування спеціалізованою компанією" },
    { front:"Ризик 2", back:"Деталі ризику 2" },
    { front:"Ризик 3", back:"Деталі ризику 3" },
    { front:"Ризик 4", back:"Деталі ризику 4" },
    { front:"Ризик 5", back:"Деталі ризику 5" }
];

const container = document.getElementById('cards-container');
let flippedCount = 0;

cardData.forEach(c => {
    let card = document.createElement('div');
    card.className = 'card';
    card.setAttribute('data-flipped-once', 'false');
    card.innerHTML = `
        <div class="card-inner">
            <div class="card-face card-front">${c.front}</div>
            <div class="card-face card-back">${c.back}</div>
        </div>
    `;

    card.onclick = () => {
        const wasFlipped = card.classList.contains('flipped');
        card.classList.toggle('flipped');
        const isFlippedNow = card.classList.contains('flipped');

        // ЛОГІКА ПІДРАХУНКУ: Збільшуємо лічильник, лише якщо картка була перегорнута вперше
        if (!wasFlipped && isFlippedNow && card.getAttribute('data-flipped-once') === 'false') {
            card.setAttribute('data-flipped-once', 'true');
            flippedCount++;
        }

        // УМОВА: Якщо всі картки перегорнуті, показати кнопку гри
        if (flippedCount === cardData.length) {
            playBtn.style.display = 'block';
        }
    };

    container.appendChild(card);
});
</script>
</body>
</html>
